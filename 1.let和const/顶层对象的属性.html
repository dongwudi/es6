<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // 顶层对象，在浏览器环境指的是window对象，在 Node 指的是global对象。ES5 之中，顶层对象的属性与全局变量是等价的。
        // window.a = 1;
        //     a // 1

        // a = 2;
        // window.a // 2

        // 顶层对象的属性与全局变量挂钩导致以下问题：
        //     没法在编译时就报出变量未声明的错误，只有运行时才能知道
        //     程序员很容易不知不觉地就创建了全局变量
        //     顶层对象的属性是到处可以读写的
        //     window对象有实体含义，指的是浏览器的窗口对象，顶层对象是一个有实体含义的对象，也是不合适的

        // ES6 为了改变这一点，一方面规定，为了保持兼容性，var命令和function命令声明的全局变量，依旧是顶层对象的属性；
        // 另一方面规定，let命令、const命令、class命令声明的全局变量，不属于顶层对象的属性。
        // 也就是说，从 ES6 开始，全局变量将逐步与顶层对象的属性脱钩

             var a = 1;
            // 如果在 Node 的 REPL 环境，可以写成 global.a
            // 或者采用通用方法，写成 this.a
            console.log(window.a);
             // 1

            let b = 1;
            console.log(window.b);
             // undefined
    </script>
</body>
</html>