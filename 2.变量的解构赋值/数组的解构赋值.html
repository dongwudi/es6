<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构
        // 以前，为变量赋值，只能直接指定值
            // let a = 1;
            // let b = 2;
            // let c = 3;
        // ES6:
        // let [a, b, c] = [1, 2, 3];


            // let [foo, [[bar], baz]] = [1, [[2], 3]];
            // foo // 1
            // bar // 2
            // baz // 3

            // let [, , third] = ["foo", "bar", "baz"];
            // third // "baz"

            // let [x, , y] = [1, 2, 3];
            // x // 1
            // y // 3

            // let [head, ...tail] = [1, 2, 3, 4];
            // head // 1
            // tail // [2, 3, 4]

            // let [x, y, ...z] = ['a'];
            // x // "a"
            // y // undefined
            // z // []

            // let [...x,y,z] = [1,2,3,4]; // Rest element must be last element
            // let [x,y, ...z] = [1,2,3,4]; // 
            // console.log(x); // 1
            // console.log(y); // 2
            // console.log(z); // [3,4]

            //如果解构不成功  变量的值就等于undefined
            // let [foo] = [];
            // let [bar, foo] = [1];
            
            // 不完全解构  即等号左边的模式，只匹配一部分的等号右边的数组 (右边的匹配部分左边也可以生效)
            // let [x, y] = [1, 2, 3];
            //     x // 1
            //     y // 2

            //     let [a, [b], d] = [1, [2, 3], 4];
            //     a // 1
            //     b // 2
            //     d // 4

                //  let [x, y , z , w] = [1, 2, 3];
                //  console.log(w);
                //  console.log(z);

            // 如果等号的右边不是数组（或者严格地说，不是可遍历的结构），那么将会报错
            // 报错
                // let [foo] = 1;
                // let [foo] = false;
                // let [foo] = NaN;
                // let [foo] = undefined;
                // let [foo] = null;
                // let [foo] = {};

            // 解构赋值允许指定默认值
            // let [foo = true] = [];
            // foo // true

            // let [x, y = 'b'] = ['a']; // x='a', y='b'
            // let [x, y = 'b'] = ['a', undefined]; // x='a', y='b'
            
            // 注意，ES6 内部使用严格相等运算符（===），判断一个位置是否有值。所以，只有当一个数组成员严格等于undefined，默认值才会生效
            // let [x = 1] = [undefined];
            //     x // 1

            //     let [x = 1] = [null];
            //     x // null

            // 如果默认值是一个表达式，那么这个表达式是惰性求值的，即只有在用到的时候，才会求值。
            // function f() {
            //         console.log('aaa');
            //     }

            //     let [x = f()] = [1];

            //     console.log(x); // 1

            // 默认值可以引用解构赋值的其他变量，但该变量必须已经声明。
            // let [x = 1, y = x] = [];     // x=1; y=1
            // let [x = 1, y = x] = [2];    // x=2; y=2
            // let [x = 1, y = x] = [1, 2]; // x=1; y=2
            // let [x = y, y = 1] = [];     // ReferenceError: y is not defined

            
            
    </script>
</body>
</html>